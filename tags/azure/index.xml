<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Azure on Hoang</title>
    <link>https://hoangmnsd.github.io/tags/azure/</link>
    <description>Recent content in Azure on Hoang</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Thu, 02 Oct 2025 22:49:25 +0700</lastBuildDate><atom:link href="https://hoangmnsd.github.io/tags/azure/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Azure Data Factory debugging notes</title>
      <link>https://hoangmnsd.github.io/posts/encrypt-azure-datafactory-debug-notes/</link>
      <pubDate>Thu, 02 Oct 2025 22:49:25 +0700</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/encrypt-azure-datafactory-debug-notes/</guid>
      <description>Đối với 1 Azure DataFactory activity web bất kỳ, để lấy được output của nó thì cần phải theo đúng syntax:
 The expression &amp;lsquo;activity(&amp;lsquo;Test activity&amp;rsquo;).Error1&amp;rsquo; cannot be evaluated because property &amp;lsquo;Error1&amp;rsquo; doesn&amp;rsquo;t exist, available properties are &amp;lsquo;PipelineName, PipelineRunId, JobId, ActivityRunId, ExecutionStartTime, ExecutionEndTime, Status, Error, Output, ExecutionDetails, StatusCode, ExecutionStatus, Duration, RecoveryStatus, ActivityType&amp;rsquo;.
 azure-datafactory-error-detail.jpg
 The expression &amp;lsquo;activity(&amp;lsquo;Test activity&amp;rsquo;).output.ADFHttpStatusCodeInResponse1&amp;rsquo; cannot be evaluated because property &amp;lsquo;ADFHttpStatusCodeInResponse1&amp;rsquo; doesn&amp;rsquo;t exist, available properties are &amp;lsquo;Response, ADFHttpStatusCodeInResponse, ADFWebActivityResponseHeaders, effectiveIntegrationRuntime, executionDuration, durationInQueue, billingReference&amp;rsquo;.</description>
    </item>
    
    <item>
      <title>Azure Monitor Alert and Grafana Alert</title>
      <link>https://hoangmnsd.github.io/posts/encrypt-compare-azure-monitor-alert-grafana-alert/</link>
      <pubDate>Mon, 14 Jul 2025 11:04:14 +0700</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/encrypt-compare-azure-monitor-alert-grafana-alert/</guid>
      <description>Bài toán đặt ra App generate log mỗi 1 phút 1 lần với customDimensions.service_name == &amp;ldquo;billing&amp;rdquo;.
Cần tạo Alert query KQL dựa trên customDimensions.service_name là billing.
run evaluation mỗi 1 phút, lấy top 3 lần gần nhất,
Check nếu value của query lớn hơn 11, 3 lần liên tục thì Alert về email.
nếu giữa các lần chạy schedule mà có log do manual run (liên tục trong 1 phút chẳng hạn), thì Alert query sẽ bị sai.</description>
    </item>
    
    <item>
      <title>Azure Administrator</title>
      <link>https://hoangmnsd.github.io/posts/encrypt-azure-certified-administrator/</link>
      <pubDate>Wed, 25 Jun 2025 23:01:48 +0900</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/encrypt-azure-certified-administrator/</guid>
      <description>Đánh giá chung Mình pass 744/700 nhưng cảm giác thi ko hề tự tin sau khi làm xong.
Chắc chỉ có 10-15 câu là chắc chắn. Còn lại phần lớn là chỉ loại trừ được 2 đáp án, còn lại 2 đáp án phải chọn bừa.
May mà cuối cùng vẫn pass sít sao. (Khác hẳn lần thì cert AI Fundamental trước, điểm cao 871/700)
Udemy course: microsoft-certified-azure-administrator PT1  Bạn có 1 VM cần backup lúc 2AM mỗi ngày, backups lưu 30days.</description>
    </item>
    
    <item>
      <title>Azure AI Fundamentals</title>
      <link>https://hoangmnsd.github.io/posts/encrypt-azure-certified-ai-fundamental/</link>
      <pubDate>Thu, 27 Feb 2025 23:01:48 +0900</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/encrypt-azure-certified-ai-fundamental/</guid>
      <description>Vừa mới đi thi cái cert Azure AI Fundamental về, được 871/700 nghĩa là quá đủ để pass. Có lẽ vì là loại Fundamental (chứ ko phải Associate) nên dễ hơn hẳn.
Sau đây là quá trình học của mình:
1 số Lab hữu ích theo docs của MS, (chú ý nếu muốn dùng Language Studio thì phải có account work/school. Account personal ko login dc Language Studio):
Lab về Azure ML Studio (feature Automated ML) (account personal login OK).</description>
    </item>
    
    <item>
      <title>Azure AI Search service</title>
      <link>https://hoangmnsd.github.io/posts/encrypt-azure-ai-search/</link>
      <pubDate>Thu, 27 Feb 2025 23:01:48 +0900</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/encrypt-azure-ai-search/</guid>
      <description>https://microsoftlearning.github.io/mslearn-ai-fundamentals/Instructions/Labs/11-ai-search.html
Lab này sẽ có 3 resoucre cần tạo:
Tạo Azure AI Search:
Tạo Azure AI service để sau này attach vào Search service:
Tạo storage account:
Download file review về https://aka.ms/mslearn-coffee-reviews
Upload lên container của storage account:
Click import data:
Connect đến storage account:
Chọn cái mình đã tạo:
Select theo hướng dẫn:
Tiếp mở tab tiếp theo, có thể sẽ cần tạo container mới trong SA, knowledge-store
Tab Customize target index sửa như sau:</description>
    </item>
    
    <item>
      <title>Azure Foundry Speech service</title>
      <link>https://hoangmnsd.github.io/posts/encrypt-azure-foundry-speech/</link>
      <pubDate>Thu, 20 Feb 2025 21:46:36 +0700</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/encrypt-azure-foundry-speech/</guid>
      <description>Hiện chưa support fine-tune tạo voice hay translate:
Chức năng tạo personal voice from human voice sample, có lẽ chính là voice-clone:</description>
    </item>
    
    <item>
      <title>Azure ContentSafety Studio, Azure Foundry ContentSafety</title>
      <link>https://hoangmnsd.github.io/posts/encrypt-azure-foundry-content-safety-studio/</link>
      <pubDate>Wed, 19 Feb 2025 21:46:36 +0700</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/encrypt-azure-foundry-content-safety-studio/</guid>
      <description>Làm theo Labs này: https://microsoftlearning.github.io/mslearn-ai-fundamentals/Instructions/Labs/02-content-safety.html
Add role &amp;ldquo;Cognitive Services User&amp;rdquo; for user
Xong chỗ này vẫn ko xuất hiện:
Test thử Run simple test ko được vì lỗi bên trên chưa resolved:
Nhưng chuyển sang dùng giao diện mới (Preview) Azure AI Foundry thì có thể run Test được và chọn dc resource:
sample code:</description>
    </item>
    
    <item>
      <title>Azure Language Studio</title>
      <link>https://hoangmnsd.github.io/posts/encrypt-azure-language-studio/</link>
      <pubDate>Tue, 18 Feb 2025 21:46:36 +0700</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/encrypt-azure-language-studio/</guid>
      <description>Làm theo Labs này: https://microsoftlearning.github.io/mslearn-ai-fundamentals/Instructions/Labs/06-text-analysis.html
Để dùng Language Studio, MS bắt buộc phải login bằng work/school account.
Đoạn sau mình thử login bằng account tổ chức, tất nhiên ko có subscription nên sẽ ko dùng được chỉ xem được.
Có thể dùng code nếu ko muốn dùng Language Studio:</description>
    </item>
    
    <item>
      <title>Azure Bot Service experiment</title>
      <link>https://hoangmnsd.github.io/posts/encrypt-azure-bot-service/</link>
      <pubDate>Mon, 17 Feb 2025 21:46:36 +0700</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/encrypt-azure-bot-service/</guid>
      <description>1. Local Development, run Bot locally và test dùng Emulator source sample của Azure: https://github.com/microsoft/BotBuilder-Samples/tree/main/samples/python/02.echo-bot
Download app Emulator cài đặt trên windows
Chạy app trên WSL (có thể sẽ bị lỗi về sau):
chạy trên WSL mình sẽ bị lỗi như này:
Chuyển sang chạy trên Windows python GitBash sẽ ok:
2. Provision Azure Bot Service https://learn.microsoft.com/en-us/azure/bot-service/abs-quickstart?view=azure-bot-service-4.0&amp;amp;wt.mc_id=searchAPI_azureportal_inproduct_rmskilling&amp;amp;sessionId=23113e4166814aa9a96aaf685a50e38b&amp;amp;tabs=userassigned
Tạo 1 App registration từ Entra AD:
Tạo và chọn Plan:
Sau khi tạo:</description>
    </item>
    
    <item>
      <title>Azure Function App development with CLI</title>
      <link>https://hoangmnsd.github.io/posts/encrypt-azure-function-with-python-cli/</link>
      <pubDate>Mon, 20 Jan 2025 12:52:01 +0700</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/encrypt-azure-function-with-python-cli/</guid>
      <description>Run Azure Function serverless trên WSL Install $ curl https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor &amp;gt; microsoft.gpg $ sudo mv microsoft.gpg /etc/apt/trusted.gpg.d/microsoft.gpg $ sudo sh -c &amp;#39;echo &amp;#34;deb [arch=amd64] https://packages.microsoft.com/repos/microsoft-ubuntu-$(lsb_release -cs 2&amp;gt;/dev/null)-prod $(lsb_release -cs 2&amp;gt;/dev/null) main&amp;#34; &amp;gt; /etc/apt/sources.list.d/dotnetdev.list&amp;#39; $ sudo apt-get update $ sudo apt-get install azure-functions-core-tools-4 $ func --version 4.0.6821 Activate, init and run $ python -m venv .venv $ source .venv/bin/activate (OPTIONAL) $ func init test-az-function-01 --worker-runtime python $ cd .</description>
    </item>
    
    <item>
      <title>Azure Logic Apps and Log Analytics</title>
      <link>https://hoangmnsd.github.io/posts/encrypt-azure-logic-apps-and-log-analytics/</link>
      <pubDate>Mon, 20 Jan 2025 12:52:01 +0700</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/encrypt-azure-logic-apps-and-log-analytics/</guid>
      <description>Story Bài Toán sẽ là mình cần làm 1 LogicApp thực hiện tác vụ DataMapping
khi gửi request đến LogicApp với json body là:
{ &amp;#34;orderId&amp;#34;: &amp;#34;ORD1234&amp;#34;, &amp;#34;orderDate&amp;#34;: &amp;#34;2025-01-01: 12:12:12&amp;#34;, &amp;#34;customerId&amp;#34;: &amp;#34;CUST1234&amp;#34;, &amp;#34;paymentMethod&amp;#34;: &amp;#34;Credit Card&amp;#34; } LogicApp sẽ phải return 1 json được convert thành:
{ &amp;#34;orderNumber&amp;#34;: &amp;#34;ORD1234&amp;#34;, &amp;#34;orderDate&amp;#34;: &amp;#34;2025-01-01: 12:12:12&amp;#34;, &amp;#34;customerNumber&amp;#34;: &amp;#34;CUST1234&amp;#34;, &amp;#34;payment&amp;#34;: { &amp;#34;paymentMethodCode&amp;#34;: &amp;#34;1&amp;#34; } } Create 1 Logic App service Vào Logic app designer để kéo thả flow:</description>
    </item>
    
    <item>
      <title>Using Azure Machine Learning Studio and Azure OpenAI service</title>
      <link>https://hoangmnsd.github.io/posts/encrypt-azure-machine-learning-studio-and-openai/</link>
      <pubDate>Thu, 09 Jan 2025 21:46:36 +0700</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/encrypt-azure-machine-learning-studio-and-openai/</guid>
      <description>Deploy realtime endpoint to Azure Machine Learning Studio Follow this tutorial: https://microsoftlearning.github.io/mslearn-ai-fundamentals/Instructions/Labs/01-machine-learning.html
Cần add Role assignment cho RG:
Solution: https://learn.microsoft.com/en-us/answers/questions/2044338/cant-run-real-time-deployment-for-best-model-in-az
Deploy lại lần nữa:
Deploy success Real-time Endpoint:
Deploy and use Azure OpenAI Chat gặp lỗi:</description>
    </item>
    
    <item>
      <title>Azure DNS Zone setup with Namecheap domain</title>
      <link>https://hoangmnsd.github.io/posts/encrypt-azure-dnszone-with-namecheap/</link>
      <pubDate>Fri, 05 Jul 2024 21:50:50 +0700</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/encrypt-azure-dnszone-with-namecheap/</guid>
      <description>Giả sử mình mua 1 domain yourdomain.dev trên Namecheap. Giờ muốn setup nó với Azure DNS Zone để trỏ các service từ Internet vào az.yourdomain.dev sẽ đi đến các Azure resource của mình. Trên AWS cũng có service tương tự là AWS Route53.
  Internet -&amp;gt;　*.az.yourdomain.dev -&amp;gt; Azure DNS Zone -&amp;gt; Azure web app/services/VM
  Internet -&amp;gt;　*.aws.yourdomain.dev -&amp;gt; AWS Route53 -&amp;gt; AWS web app/services/VM
  Setup Azure DNS Zone with Namecheap domain Chú ý: Pricing của mỗi DNS Zone trên Azure là $0.</description>
    </item>
    
    <item>
      <title>Azure AKS with DNS Zone, cert-manager, traefik</title>
      <link>https://hoangmnsd.github.io/posts/encrypt-azure-aks-certmanager-traefik-dnszone/</link>
      <pubDate>Thu, 04 Jul 2024 21:50:50 +0700</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/encrypt-azure-aks-certmanager-traefik-dnszone/</guid>
      <description>1. Diagram Architecture 1 số chú ý:
Traefik hoạt động tương tự là Nginx-ingress-controller. Được recommend.
Enable Azure CNI for AKS: Thường thì 1 hệ thống infra sẽ tồn tại hầm bà lằng các kiểu vừa AKS cluster, vừa VM, vừa container. Khi đó sẽ xuất hiện yêu cầu connect giữa các service đó. Và muốn AKS pod có thể connect đến các VM IP thì bạn cần enable Azure CNI khi tạo AKS cluster (ko thể enable Azure CNI trên 1 AKS cluster đã tồn tại).</description>
    </item>
    
    <item>
      <title>Setup Azure APIM in front of AKS services</title>
      <link>https://hoangmnsd.github.io/posts/encrypt-azure-apim-in-front-of-aks-services/</link>
      <pubDate>Thu, 04 Jul 2024 21:50:50 +0700</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/encrypt-azure-apim-in-front-of-aks-services/</guid>
      <description>1. Giới thiệu Bài này note lại cách APIM và AKS setup mà mình đã trải qua. (chủ yếu về APIM)
Azure APIM là 1 dịch vụ quản lý API của Azure. Tương tự như AWS API Gateway.
APIM có giá khá cao với nhiều tier khác nhau: https://azure.microsoft.com/en-us/pricing/details/api-management/
2. Sơ qua về AKS Mình setup AKS cluster trong 1 Vnet. (đã enable Azure CNI overlay)
3. Kiến trúc Về kiến trúc nói chung, APIM có thể được đặt trong Vnet (phải có riêng 1 subnet cho APIM) hoặc đặt ngoài Vnet.</description>
    </item>
    
    <item>
      <title>Azure AKS with Helm at 2024</title>
      <link>https://hoangmnsd.github.io/posts/encrypt-azure-aks-with-helm-2024/</link>
      <pubDate>Wed, 19 Jun 2024 21:50:50 +0700</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/encrypt-azure-aks-with-helm-2024/</guid>
      <description>Sau 1 thời gian khá lâu (từ 2020) ko đụng đến k8s và helm, giờ 2024 quay lại để review kiến thức 1 chút
1. Môi trường làm việc Windows WSL Ubuntu 20, hoặc Ubuntu 20 VM, Docker và Docker-compose, az-cli, maven, java 8
2. Create AKS Cluster, ACR Đầu tiên cần tạo 1 AKS cluster, 1 ACR. Mình sẽ ko nói về phần này vì tạo khá dễ.
Có 1 số yêu cầu về AKS, nên ở trong 1 VNET/subnet, có 1 NSG gắn vào subnet đó (để sau này chúng ta kiểm soát traffic ra/vào)</description>
    </item>
    
    <item>
      <title>Azure: Publish SaaS Offer (Software as a Service Offer)</title>
      <link>https://hoangmnsd.github.io/posts/encrypt-azure-publish-marketplace-offer-saas/</link>
      <pubDate>Mon, 01 Jan 2024 22:17:59 +0700</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/encrypt-azure-publish-marketplace-offer-saas/</guid>
      <description>1. Azure SaaS Offer là gì? Sơ đồ quyết định nên dùng Azure Marketplace Offer nào:
https://learn.microsoft.com/en-us/partner-center/marketplace/marketplace-commercial-transaction-capabilities-and-considerations#determine-offer-type-and-pricing-plan
2. Những điểm cần chú ý khi tạo SaaS Offer 2.1. SaaS Offer lifecycle Diagram về các thành phần involve trong 1 SaaS offer: https://learn.microsoft.com/en-us/partner-center/marketplace/azure-ad-saas#how-microsoft-entra-id-works-with-the-commercial-marketplace-for-saas-offers
Diagram về các giai đoạn cần để tạo 1 SaaS offer:
https://youtu.be/AnZDa0Z1z8I?t=265
Diagram ví dụ về quá trình 1 Customer discovery SaaS offer từ Marketplace, subscribe, activate plan, rồi unsubscribe offer đó.</description>
    </item>
    
    <item>
      <title>VPC/Vnet Architecture (Azure,AWS)</title>
      <link>https://hoangmnsd.github.io/posts/encrypt-aws-az-network-architect/</link>
      <pubDate>Tue, 04 Apr 2023 21:54:05 +0700</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/encrypt-aws-az-network-architect/</guid>
      <description>1. AWS VPC Architecture Giải thích:
  Vì chi phí cho traffic từ private subnet ra internet mà đi qua 1 NAT Gateway khác AZ sẽ cao hơn, nên nếu traffic nhiều thì mỗi AZ 1 NAT Gateway thì sẽ ko có traffic đi sang AZ khác.
  Có thể chọn 1 NAT Gateway thôi cho all private subnet nếu traffic từ private subnet ra ngoài internet ít.</description>
    </item>
    
    <item>
      <title>Troubleshoot Azure Linux VM: Internet &amp; SSH Connections</title>
      <link>https://hoangmnsd.github.io/posts/encrypt-azure-troubleshoot-linux-vm-internet-ssh-connections/</link>
      <pubDate>Tue, 14 Mar 2023 22:58:56 +0700</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/encrypt-azure-troubleshoot-linux-vm-internet-ssh-connections/</guid>
      <description>1. Story Mới đây mình gặp 1 tình huống là tạo 1 VM (Ubuntu18.04-LTS) trên Azure cho Dev sử dụng, có toàn quyền sudo luôn.
Dev setup nhiều phần mềm, và sau 1 thời gian thì VM bị lỗi ko thể SSH vào được nữa.
ssh: port 22: Connection timed out Nói chung là sử dụng hàng Cloud thì xử lý những case kiểu này có tài liệu khá đầy đủ, vì Azure là 1 đơn vị cung cấp Cloud lớn.</description>
    </item>
    
    <item>
      <title>When your VM failed to reach Internet and story about Azure Load Balancer</title>
      <link>https://hoangmnsd.github.io/posts/encrypt-when-your-vm-cannot-reach-internet-and-stry-abt-load-balancer/</link>
      <pubDate>Wed, 07 Sep 2022 15:17:42 +0700</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/encrypt-when-your-vm-cannot-reach-internet-and-stry-abt-load-balancer/</guid>
      <description>1. Story Đây là note để xử lý khi bạn thấy Server của bạn có vẻ như ko thể kết nối internet được
Có thể bạn sẽ nhìn thấy thông báo này ngay khi ssh vào server:
Failed to connect to https://changelogs.ubuntu.com/meta-release-lts. Check you Internet connection or proxy setting Hoặc khi bạn run 1 vài command đơn giản như sudo apt update, màn hình sẽ dừng lại ở 0% và cuối cùng báo lỗi:</description>
    </item>
    
    <item>
      <title>Azure Synapse: Analyze data with serverless SQL and visualize it on PowerBI</title>
      <link>https://hoangmnsd.github.io/posts/encrypt-azure-synapse-basic-data-flow-analyze-visualize-on-powerbi/</link>
      <pubDate>Fri, 24 Jun 2022 23:36:48 +0700</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/encrypt-azure-synapse-basic-data-flow-analyze-visualize-on-powerbi/</guid>
      <description>This post is about a demo using Azure Synapse Analytics. Analyze data with serverless SQL, then visualize on Power BI desktop
Overview about Azure Synapse Analytics Azure Synapse contains the same Data Integration engine and experiences as Azure Data Factory, allowing you to create rich at-scale ETL pipelines without leaving Azure Synapse Analytics.
 Ingest data from 90+ data sources Code-Free ETL with Data flow activities Orchestrate notebooks, Spark jobs, stored procedures, SQL scripts, and more  Synapse SQL: is the ability to do T-SQL based analytics in Synapse workspace.</description>
    </item>
    
    <item>
      <title>Azure ACI notes</title>
      <link>https://hoangmnsd.github.io/posts/encrypt-azure-aci-notes/</link>
      <pubDate>Fri, 29 Apr 2022 00:07:17 +0700</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/encrypt-azure-aci-notes/</guid>
      <description>1. Gán Role cho Identity = ARM Bạn có 1 ACI container, đã enable System assigned identity
Bạn muốn gán Role READER cho identity trên bằng ARM Quan trọng là bạn phải biết cách lấy dc principalId của cái System assigned identity.
Ví dụ sau:
// add Role to SystemAssigned identity of ACI { &amp;#34;type&amp;#34;: &amp;#34;Microsoft.Authorization/roleAssignments&amp;#34;, &amp;#34;apiVersion&amp;#34;: &amp;#34;2018-09-01-preview&amp;#34;, &amp;#34;name&amp;#34;: &amp;#34;[variables(&amp;#39;aciRoleDefinitionName&amp;#39;)]&amp;#34;, &amp;#34;dependsOn&amp;#34;: [ &amp;#34;[variables(&amp;#39;aciContainerGroupName&amp;#39;)]&amp;#34; ], &amp;#34;properties&amp;#34;: { &amp;#34;roleDefinitionId&amp;#34;: &amp;#34;[variables(&amp;#39;aciRoleDefinitionId&amp;#39;)]&amp;#34;, &amp;#34;principalId&amp;#34;: &amp;#34;[reference(resourceId(&amp;#39;Microsoft.ContainerInstance/containerGroups&amp;#39;, variables(&amp;#39;aciContainerGroupName&amp;#39;)), &amp;#39;2021-09-01&amp;#39;, &amp;#39;Full&amp;#39;).</description>
    </item>
    
    <item>
      <title>Azure Synapse ARM Template Output properties</title>
      <link>https://hoangmnsd.github.io/posts/azure-notes-synapse-arm-template-output/</link>
      <pubDate>Sat, 23 Apr 2022 20:59:05 +0700</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/azure-notes-synapse-arm-template-output/</guid>
      <description>Vấn đề Khi các bạn tạo Azure Synapse bằng ARM template. Bạn muốn output ra Workspace name, SQL endpoint, Synapse Studio URL,&amp;hellip; nhưng ko biết làm sao?
Hiện tượng Có thể bạn sẽ gặp lỗi này:
{&amp;quot;status&amp;quot;:&amp;quot;Failed&amp;quot;,&amp;quot;error&amp;quot;:{&amp;quot;code&amp;quot;:&amp;quot;DeploymentOutputEvaluationFailed&amp;quot;,&amp;quot;message&amp;quot;:&amp;quot;Unable to evaluate template outputs: &#39;synapseWorkspaceName&#39;. Please see error details and deployment operations. Please see https://aka.ms/arm-debug for usage details.&amp;quot;,&amp;quot;details&amp;quot;:[{&amp;quot;code&amp;quot;:&amp;quot;DeploymentOutputEvaluationFailed&amp;quot;,&amp;quot;target&amp;quot;:&amp;quot;synapseWorkspaceName&amp;quot;,&amp;quot;message&amp;quot;:&amp;quot;The template output &#39;synapseWorkspaceName&#39; is not valid: The language expression property &#39;name&#39; doesn&#39;t exist, available properties are &#39;apiVersion, location, tags, identity, properties, condition, existing, isConditionTrue, subscriptionId, resourceGroupName, scope, resourceId, referenceApiVersion, isTemplateResource, isAction, provisioningOperation&#39;.</description>
    </item>
    
    <item>
      <title>Azure: Copy Snapshot to Storage Account</title>
      <link>https://hoangmnsd.github.io/posts/encrypt-azure-copy-snapshot-to-storage-account/</link>
      <pubDate>Fri, 14 Jan 2022 18:03:03 +0700</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/encrypt-azure-copy-snapshot-to-storage-account/</guid>
      <description>Trong quá trình config cài cắm, có thể bạn sẽ muốn tạo snapshot/đóng image cho 1 VM nào đó. Sau này bạn chỉ cần tạo lại VM từ snapshot đó là xong.
Azure có tính năng Capture - create an image, nhưng Nếu capture bạn sẽ phải stop VM, và sẽ ko thể sử dụng VM được nữa. (quá trình Capture đòi hỏi generalise VM và xóa các thông tin về user)</description>
    </item>
    
    <item>
      <title>GitOps: Playaround with ArgoCD and private Gitlab CI, ACR</title>
      <link>https://hoangmnsd.github.io/posts/encrypt-playaround-w-argocd-and-private-gitlab-ci-acr/</link>
      <pubDate>Mon, 01 Nov 2021 21:16:47 +0700</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/encrypt-playaround-w-argocd-and-private-gitlab-ci-acr/</guid>
      <description>1. Intro Demo about ArgoCD with private Gitlab CI repository, private ACR 2. Prerequisites  Basic knowledge about Azure, ssh-keygen, K8S, Gitlab, Docker commands Workspace: run commands on Azure Cloudshell Prepare an AKS cluster (Standard_DS2_v2, kubernetes version 1.21.2) Prepare an ACR (Azure container registry) with credential  export ACR_SERVER=&amp;#34;YOUR_ACR_NAME.azurecr.io&amp;#34; export ACR_USER=&amp;#34;YOUR_ACR_USER_NAME&amp;#34; export ACR_PASSWORD=&amp;#34;YOUR_ACR_PASSWORD&amp;#34; Clone 2 projects to your workspace:
 https://gitlab.com/argocd-demo2801/gitops-chart https://gitlab.com/argocd-demo2801/webapp  3. Setup 3.1. Config on Webapp repository https://gitlab.</description>
    </item>
    
    <item>
      <title>Azure: How to change private IP of VM, Vnet, Subnet, Load balancer</title>
      <link>https://hoangmnsd.github.io/posts/azure-update-private-ip-vnet-subnet-vm-loadbalancer/</link>
      <pubDate>Sat, 30 Oct 2021 15:24:42 +0700</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/azure-update-private-ip-vnet-subnet-vm-loadbalancer/</guid>
      <description>You cannot move a VM from a Vnet/subnet to different Vnet/subnet without re-creating the VM. But in some specific cases, you may not have to move VM to another Vnet/subnet, it will be easier when you just change the private IP of Vnet/subnet/VM/Load balancer&amp;hellip;
Background Assume that you&amp;rsquo;re having a Virtual machine with private IP is: 10.20.1.8 and you want to change it to: 10.25.2.9.
See this picture:
Note that this article is not about moving VM to a different Vnet/Subnet.</description>
    </item>
    
    <item>
      <title>Azure: Request Access Token to Digital Twins use User-Assigned Identity</title>
      <link>https://hoangmnsd.github.io/posts/azure-request-accesstoken-to-digital-twins-managed-identity/</link>
      <pubDate>Fri, 15 Oct 2021 20:57:39 +0700</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/azure-request-accesstoken-to-digital-twins-managed-identity/</guid>
      <description>Giống như IAM Role cho EC2 trên AWS, thì trên Azure cũng có feature tương tự đó là Managed identity (System assgined identity hoặc User assigned identity)
Prerequisites Bạn đã tạo User-Assgined identity, VM đã enable identity.
Story Theo Azure official document, ví dụ để lấy access token dùng Azure Resource manager thì từ trong VM cần run command như này:
response=$(curl &amp;#39;http://169.254.169.254/metadata/identity/oauth2/token?api-version=2018-02-01&amp;amp;resource=https%3A%2F%2Fmanagement.azure.com%2F&amp;#39; -H Metadata:true -s) access_token=$(echo $response | python -c &amp;#39;import sys, json; print (json.</description>
    </item>
    
    <item>
      <title>Azure: Copy a blob from a tenant to another tenant account</title>
      <link>https://hoangmnsd.github.io/posts/azure-copy-blob-from-a-tenant-to-another/</link>
      <pubDate>Sat, 02 Oct 2021 09:53:45 +0900</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/azure-copy-blob-from-a-tenant-to-another/</guid>
      <description>1. Giới thiệu Việc copy 1 file từ storage account này sang 1 storage acccount khác tenant không hẳn là khó khăn, nhưng cũng đòi hỏi 1 chút chú ý để tránh mất thời gian
2. Yêu cầu  Dùng WSL Download AzCopy tool, refer: https://docs.microsoft.com/en-us/azure/storage/common/storage-use-azcopy-v10  3. Cách làm 3.1. Copy a file from a tenant to another Đầu tiên cần nắm được syntax:
Copy a single blob to another blob by using a SAS token.</description>
    </item>
    
    <item>
      <title>Azure: Create AKS Cluster by ARM and ACI (using CNAB, porter.sh)</title>
      <link>https://hoangmnsd.github.io/posts/azure-create-akscluster-using-arm-aci-cnab-porter/</link>
      <pubDate>Tue, 10 Aug 2021 15:03:08 +0900</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/azure-create-akscluster-using-arm-aci-cnab-porter/</guid>
      <description>Bạn muốn deploy Azure AKS Cluster bằng ARM và Azure Container Instance, sau đó deploy helm chart lên AKS cluster đó.
1. Giới Thiệu CNAB là gì? https://cnab.io/
CNAB là Cloud Native Application Bundle. Nó được thiết kế để bundling, installing, managing các distributed app.
Nó được design bởi MS, Docker, Bitami, Hashicorp, Pivotal, codefresh.
1 CNAB bao gồm 3 thành phần: Application Image, Invocation Image, Bundle descriptor.
Tác dụng mà CNAB đem lại: Package toàn bộ app của bạn, ko cần cấu trúc phức tạp,&amp;hellip;</description>
    </item>
    
    <item>
      <title>Azure: Setup Auto Stop/Start on schedule for Virtual Machines</title>
      <link>https://hoangmnsd.github.io/posts/encrypt-azure-setup-auto-stop-start-virtual-machines/</link>
      <pubDate>Mon, 31 Aug 2020 21:47:51 +0700</pubDate>
      
      <guid>https://hoangmnsd.github.io/posts/encrypt-azure-setup-auto-stop-start-virtual-machines/</guid>
      <description>Nên sử dụng Automation service của Azure
Giả sử bạn đã tạo 1 Resource Group tên là: test-auto-startstop-vm
Trong Resource Group đó bạn có 2 VM như sau (ảnh): Chọn Resource Group mà bạn muốn apply stop/start solution vào, chọn Add (ảnh):
Search Automation (ảnh):
Chọn Create (ảnh):
Tạo Automation Account. Điền thông tin phù hợp với bạn và tiếp tục chọn Create (ảnh):
Quay lại portal của Resource Group bạn sẽ thấy có thêm các resource được tạo ra.</description>
    </item>
    
  </channel>
</rss>
